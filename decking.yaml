images: {
    "klab-base": {
      "path":     "./images/klab-base",
      "context":  "./images/klab-base"
    },
    "data-only": {
      "path":     "./images/data-only",
      "context":  "./images/data-only"
    },
    "klab-runtime": {
      "path":     "./images/klab-runtime",
      "context":  "./images/klab-runtime"
    },
    "michele-dev": {
      "path":     "./images/michele-dev",
      "context":  "./images/michele-dev"
    },
    "rabbitmq-service": {
      "path":     "./images/rabbitmq-service",
      "context":  "./images/rabbitmq-service"
    }
  }



containers:

  rabbitmq-service:
    image:        rabbitmq-service
    ## mount-from: ["rabbitmq-data"]

  klab-runtime:
    image:        klab-runtime
    port:         ["127.0.0.1:2222:22"]
    dependencies:
      - rabbitmq-service:rabbitmq

  michele-dev:
    image:        michele-dev
    port:         ["127.0.0.1:2223:22"]
    dependencies:
      - rabbitmq-service:rabbitmq
    mount-from: ["michele-home"]

  michele-home:
    image:        data-only
    data:         true
    mount:        ["/home/rashta/github/decking-test/images/michele-dev/home:/home/michele"]


clusters:
  dev-master:     ["rabbitmq-service", "klab-runtime", "michele-dev"]
  entity-v2:      ["rabbitmq-service", "klab-runtime", "michele-dev"]


groups:
  dev-master:
    containers:
      rabbitmq-service:    { port: ["127.0.0.1:15672:15672"],  env: ["POND_NAME=dev-master"] }
      klab-runtime:        { port: ["127.0.0.1:2222:22"],      env: ["POND_NAME=dev-master"] }
      michele-dev:         { port: ["127.0.0.1:2223:22"],      env: ["POND_NAME=dev-master"] }

  entity-v2:
    containers:
      rabbitmq-service:    { port: ["127.0.0.1:25672:15672"],  env: ["POND_NAME=entity-v2"] }
      klab-runtime:        { port: ["127.0.0.1:3222:22"],      env: ["POND_NAME=entity-v2"] }
      michele-dev:         { port: ["127.0.0.1:3223:22"],      env: ["POND_NAME=entity-v2"] }

